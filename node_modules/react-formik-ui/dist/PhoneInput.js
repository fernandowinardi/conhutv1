import e,{memo as r,useState as t}from"react";import{useField as n,ErrorMessage as o,useFormikContext as a}from"formik";import{PhoneInput as i}from"react-phonenr-input";import l from"classnames";import u from"lodash.omit";function c(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return t}}(e,r)||function(e,r){if(e){if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input";return function(i){return r((function(r){var c=r.name,s=r.label,f=r.hint,d=r.placeholder,p=r.type,h=r.disabled,y=r.required,b=r.style,v=r.format,g=r.onFocus,O=r.onBlur,N=m(t(!1),2),A=N[0],E=N[1],C=m(n(c),2),I=C[0],j=C[1].error,w=p&&"hidden"===p,S="phoneInput"===a&&"NATIONAL"!==v,F=u(r,["hint","label","onFocus","onBlur","required"]),q=A||!!I.value||!!d||!(!h||!I.value);return e.createElement("div",{className:l("form-element",a,{hasError:!!j,hidden:w})},e.createElement("div",{className:l("".concat(a,"-wrapper"),{isDisabled:h})},s&&e.createElement("span",{className:l("label",{hide:q,moveLabel:S})},"".concat(s).concat(y?" *":"")),e.createElement(i,Object.assign({onAnimationStart:function(e){E("onAutoFillStart"===e.animationName)},onFocus:function(e){g&&g(e),E(!0)},onBlur:function(e){O&&O(e),I.onBlur(c),E(!1)},style:b},F))),e.createElement("span",{className:"error"},e.createElement(o,{name:c})),!!f&&e.createElement("span",{className:"hint"},f))}))}}("phoneInput")((function(r){r.id;var t=r.name,n=r.placeholder,o=r.disabled,l=(r.hint,r.required,r.format),u=void 0===l?"INTERNATIONAL":l,s=r.defaultCountry,m=r.preferredCountries,f=r.regions,d=r.className,p=r.withCountryMeta,h=c(r,["id","name","placeholder","disabled","hint","required","format","defaultCountry","preferredCountries","regions","className","withCountryMeta"]),y=a().setFieldValue;return e.createElement(i,Object.assign({},h,{onChange:function(e){y(t,e)},className:d,placeholder:n,disabled:o,format:u,defaultCountry:s,preferredCountries:m,regions:f,withCountryMeta:p}))}));export{f as PhoneInput};
