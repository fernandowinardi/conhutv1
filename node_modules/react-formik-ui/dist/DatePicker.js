import e,{memo as t,useState as r}from"react";import n from"react-datepicker";import{isValid as a}from"date-fns";import{useField as o,ErrorMessage as l}from"formik";import"react-datepicker/dist/react-datepicker.css";import i from"classnames";import c from"lodash.omit";function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var d=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input";return function(a){return t((function(t){var u=t.name,m=t.label,d=t.hint,f=t.placeholder,p=t.type,y=t.disabled,b=t.required,v=t.style,h=t.format,g=t.onFocus,O=t.onBlur,N=s(r(!1),2),E=N[0],j=N[1],w=s(o(u),2),A=w[0],F=w[1].error,S=p&&"hidden"===p,k="phoneInput"===n&&"NATIONAL"!==h,B=c(t,["hint","label","onFocus","onBlur","required"]),C=E||!!A.value||!!f||!(!y||!A.value);return e.createElement("div",{className:i("form-element",n,{hasError:!!F,hidden:S})},e.createElement("div",{className:i("".concat(n,"-wrapper"),{isDisabled:y})},m&&e.createElement("span",{className:i("label",{hide:C,moveLabel:k})},"".concat(m).concat(b?" *":"")),e.createElement(a,Object.assign({onAnimationStart:function(e){j("onAutoFillStart"===e.animationName)},onFocus:function(e){g&&g(e),j(!0)},onBlur:function(e){O&&O(e),A.onBlur(u),j(!1)},style:v},B))),e.createElement("span",{className:"error"},e.createElement(l,{name:u})),!!d&&e.createElement("span",{className:"hint"},d))}))}}("datePicker")((function(t){var r=t.dateFormat,l=void 0===r?"dd/MM/yyyy":r,i=t.disabled,c=t.name,u=t.id,d=t.placeholder,f=t.onFocus,p=t.onBlur,y=t.className,b=t.autoComplete,v=void 0===b?"off":b,h=m(t,["dateFormat","disabled","name","id","placeholder","onFocus","onBlur","className","autoComplete"]),g=s(o(c),3),O=g[0].value,N=g[2].setValue;return e.createElement(n,Object.assign({},h,{disabledKeyboardNavigation:!0,autoComplete:v,id:u||c,name:c,className:y,selected:O&&new Date(O),placeholderText:d,dateFormat:l,onChangeRaw:function(e){var t=e.target.value;/^\d{0,2}[./]{0,1}\d{0,2}[./]{0,1}\d{0,4}$/.test(t)||e.preventDefault(),a(new Date(t))&&N(t)},onChange:function(e){e&&a(e)?N(e):N("")},onFocus:f,onBlur:p,disabled:i}))}));export{d as DatePicker};
