{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/ConHut/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import NavBar from'../../components/NavBar/NavBar';import Axios from'axios';import{useHistory}from'react-router-dom';import parse from'html-react-parser';import\"./HomePage.css\";export default function HomePage(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),role=_useState2[0],GetUserRole=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),confessionList=_useState4[0],GetConfessionList=_useState4[1];useEffect(function(){Axios.get(\"http://localhost:3001/getaccount\").then(function(result){if(result.data.loggedIn===true){GetUserRole(result.data.user[0].role);Axios.get(\"http://localhost:3001/confession/publish/getall\").then(function(response){if(response.data){GetConfessionList(response.data);}});}else{history.push(\"/\");}});},[]);// remove the , [] later on \nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"HomePage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navBarDiv\",children:/*#__PURE__*/_jsx(NavBar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"homepageContainer\",children:confessionList.map(function(val){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"displayCard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"confessTitle\",children:val.confess_title}),/*#__PURE__*/_jsx(\"div\",{children:parse(val.confess_content)})]})});})})]});}","map":{"version":3,"sources":["D:/ConHut/frontend/src/pages/HomePage/HomePage.js"],"names":["React","useEffect","useState","NavBar","Axios","useHistory","parse","HomePage","history","role","GetUserRole","confessionList","GetConfessionList","get","then","result","data","loggedIn","user","response","push","map","val","confess_title","confess_content"],"mappings":"sRAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CAEA,MAAO,gBAAP,CAEA,cAAe,SAASC,CAAAA,QAAT,EAAoB,CAC/B,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CAD+B,cAGHH,QAAQ,CAAC,EAAD,CAHL,wCAGxBO,IAHwB,eAGlBC,WAHkB,8BAIaR,QAAQ,CAAC,EAAD,CAJrB,yCAIxBS,cAJwB,eAIRC,iBAJQ,eAM/BX,SAAS,CAAC,UAAM,CACZG,KAAK,CAACS,GAAN,CAAU,kCAAV,EAA8CC,IAA9C,CAAmD,SAACC,MAAD,CAAY,CAC3D,GAAIA,MAAM,CAACC,IAAP,CAAYC,QAAZ,GAAyB,IAA7B,CAAmC,CAC/BP,WAAW,CAACK,MAAM,CAACC,IAAP,CAAYE,IAAZ,CAAiB,CAAjB,EAAoBT,IAArB,CAAX,CACAL,KAAK,CAACS,GAAN,CAAU,iDAAV,EAA6DC,IAA7D,CAAkE,SAACK,QAAD,CAAc,CAC5E,GAAIA,QAAQ,CAACH,IAAb,CAAmB,CACfJ,iBAAiB,CAACO,QAAQ,CAACH,IAAV,CAAjB,CACH,CACJ,CAJD,EAKH,CAPD,IAQK,CACDR,OAAO,CAACY,IAAR,CAAa,GAAb,EACH,CACJ,CAZD,EAaH,CAdQ,CAcN,EAdM,CAAT,CAcQ;AAER,mBACI,aAAK,SAAS,CAAC,UAAf,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,MAAD,IADJ,EADJ,cAKI,YAAK,SAAS,CAAC,mBAAf,UACKT,cAAc,CAACU,GAAf,CAAmB,SAACC,GAAD,CAAS,CACzB,mBACI,sCACA,aAAK,SAAS,CAAC,aAAf,wBACI,YAAK,SAAS,CAAC,cAAf,UACKA,GAAG,CAACC,aADT,EADJ,cAII,qBACKjB,KAAK,CAACgB,GAAG,CAACE,eAAL,CADV,EAJJ,GADA,EADJ,CAaH,CAdA,CADL,EALJ,GADJ,CAyBH","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport NavBar from '../../components/NavBar/NavBar';\r\nimport Axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport parse from 'html-react-parser';\r\n\r\nimport \"./HomePage.css\"\r\n\r\nexport default function HomePage() {\r\n    const history = useHistory();\r\n\r\n    const [role, GetUserRole] = useState('')\r\n    const [confessionList, GetConfessionList] = useState([])\r\n\r\n    useEffect(() => {\r\n        Axios.get(\"http://localhost:3001/getaccount\").then((result) => {\r\n            if (result.data.loggedIn === true) {\r\n                GetUserRole(result.data.user[0].role)\r\n                Axios.get(\"http://localhost:3001/confession/publish/getall\").then((response) => {\r\n                    if (response.data) {\r\n                        GetConfessionList(response.data)\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n                history.push(\"/\")\r\n            }\r\n        });\r\n    }, []); // remove the , [] later on \r\n    \r\n    return (\r\n        <div className=\"HomePage\">\r\n            <div className=\"navBarDiv\">\r\n                <NavBar/>\r\n            </div>\r\n            \r\n            <div className=\"homepageContainer\">\r\n                {confessionList.map((val) => {\r\n                    return (\r\n                        <>\r\n                        <div className=\"displayCard\">\r\n                            <div className=\"confessTitle\">\r\n                                {val.confess_title} \r\n                            </div>\r\n                            <div>\r\n                                {parse(val.confess_content)}\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}