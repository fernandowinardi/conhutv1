{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/ConHut/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Axios from'axios';import{Link}from\"react-router-dom\";import logo from'../../images/logo.png';import\"./NavBar.css\";import CreateConfession from'../CreateConfession/CreateConfession';import Modal from\"react-responsive-modal\";export default function NavBar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),ModalStatus=_useState2[0],SetModalStatus=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],GetTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],GetContent=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],GetLocation=_useState8[1];var _useState9=useState('0'),_useState10=_slicedToArray(_useState9,2),timer=_useState10[0],GetTimer=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),Tag=_useState12[0],GetTag=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),PublishStatus=_useState14[0],GetPublishStatus=_useState14[1];var editorConfiguration={placeholder:\"Type your confession here...\",toolbar:[\"bold\",\"italic\",\"underline\"]};var logout=function logout(){Axios.post(\"http://localhost:3001/logout\",{});};var openModal=function openModal(){SetModalStatus(true);};var closeModal=function closeModal(){SetModalStatus(false);};var postConfession=function postConfession(draft){var usertimer=0;var tagarray=[];if(draft===0){if(timer.value!==undefined){usertimer=timer.value;}for(var i=0;i<Tag.length;i++){delete Tag[i].label;tagarray.push(Tag[i].value);}if(location===\"\"||content===\"\"||title===\"\"||usertimer===0||tagarray.length===0){GetPublishStatus(\"We cannot publish your confession while some of the field is empty!\");return;}}else if(draft===1){if(title===\"\"){GetPublishStatus(\"Add a title before saving to draft!\");return;}}Axios.post(\"http://localhost:3001/confession/create\",{location:location,content:content,title:title,timer:usertimer,tag:tagarray,draft:draft}).then(function(response){console.log(response.data.message);GetPublishStatus(response.data.message);SetModalStatus(false);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navBar\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"/home\",className:\"options\",children:/*#__PURE__*/_jsx(Link,{to:\"/home\",children:/*#__PURE__*/_jsx(\"img\",{className:\"logoClass\",src:logo})})}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/draft\",className:\"options\",children:/*#__PURE__*/_jsx(Link,{to:\"/draft\",children:\"Confession Draft\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"options\",onClick:openModal,children:\"Make Confession\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"logoutOption\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:logout,children:\"Logout\"})})]})]}),ModalStatus===true&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Modal,{open:true,onClose:closeModal,classNames:{overlay:'customOverlay',modal:'customModal'},children:/*#__PURE__*/_jsx(CreateConfession,{})})})]});}","map":{"version":3,"sources":["D:/ConHut/frontend/src/components/NavBar/NavBar.js"],"names":["React","useState","Axios","Link","logo","CreateConfession","Modal","NavBar","ModalStatus","SetModalStatus","title","GetTitle","content","GetContent","location","GetLocation","timer","GetTimer","Tag","GetTag","PublishStatus","GetPublishStatus","editorConfiguration","placeholder","toolbar","logout","post","openModal","closeModal","postConfession","draft","usertimer","tagarray","value","undefined","i","length","label","push","tag","then","response","console","log","data","message","overlay","modal"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport Axios from 'axios';\r\nimport {Link} from \"react-router-dom\";\r\nimport logo from '../../images/logo.png';\r\n\r\nimport \"./NavBar.css\";\r\nimport CreateConfession from '../CreateConfession/CreateConfession';\r\nimport Modal from \"react-responsive-modal\";\r\n\r\nexport default function NavBar() {  \r\n    const [ModalStatus, SetModalStatus] = useState(false)\r\n\r\n    const [title, GetTitle] = useState('')\r\n    const [content, GetContent] = useState('')\r\n    const [location, GetLocation] = useState('')\r\n    const [timer, GetTimer] = useState('0')\r\n    const [Tag, GetTag] = useState([])\r\n    const [PublishStatus, GetPublishStatus] = useState('')\r\n\r\n    const editorConfiguration = {\r\n        placeholder: \"Type your confession here...\",\r\n        toolbar: [\"bold\", \"italic\", \"underline\"]\r\n    }\r\n\r\n    const logout = () => {\r\n        Axios.post(\"http://localhost:3001/logout\", {\r\n        })\r\n    }\r\n\r\n    const openModal = () => {\r\n        SetModalStatus(true)\r\n    }\r\n\r\n    const closeModal = () => {\r\n        SetModalStatus(false)\r\n    }\r\n\r\n    const postConfession = (draft) => {\r\n        let usertimer = 0\r\n        var tagarray = []\r\n        if (draft === 0) {\r\n            if (timer.value !== undefined) {\r\n                usertimer = timer.value\r\n            }\r\n\r\n            for (var i = 0; i < Tag.length; i++) {\r\n                delete Tag[i].label\r\n                tagarray.push(Tag[i].value)\r\n            } \r\n\r\n            if (location === \"\" || content === \"\" || title === \"\" || usertimer === 0 || tagarray.length === 0) {\r\n                GetPublishStatus(\"We cannot publish your confession while some of the field is empty!\")\r\n                return\r\n            } \r\n\r\n        } else if (draft === 1) {\r\n            if (title === \"\") {\r\n                GetPublishStatus(\"Add a title before saving to draft!\")\r\n                return\r\n            }\r\n        } \r\n\r\n        Axios.post(\"http://localhost:3001/confession/create\", {\r\n            location: location,\r\n            content: content,\r\n            title: title,\r\n            timer: usertimer,\r\n            tag: tagarray,\r\n            draft: draft,\r\n        }).then((response) => {\r\n            console.log(response.data.message)\r\n            GetPublishStatus(response.data.message)\r\n            SetModalStatus(false)\r\n        })\r\n    }\r\n\r\n    return ( \r\n        <div>\r\n            <nav className=\"navBar\">\r\n                <li>\r\n                    <a href=\"/home\" className=\"options\"><Link to=\"/home\"><img className=\"logoClass\" src={logo}/></Link></a> {/* i delete src={logo}*/}\r\n                </li>\r\n                <li>\r\n                    <a href=\"/draft\" className=\"options\"><Link to=\"/draft\">Confession Draft</Link></a>\r\n                </li>\r\n                <li>\r\n                    <a className=\"options\" onClick={openModal}>Make Confession</a>\r\n                </li>\r\n                <li> {/* if can this at the bottom of the page ya */}\r\n                    <a href=\"/\" className=\"logoutOption\"><Link to=\"/\" onClick={logout}>Logout</Link></a>\r\n                </li>\r\n            </nav>\r\n            {ModalStatus === true && <div>\r\n                <Modal open={true} onClose={closeModal} classNames={{\r\n                    overlay: 'customOverlay',\r\n                    modal: 'customModal',\r\n                }}>\r\n                    <CreateConfession/>\r\n                </Modal>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}