{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/ConHut/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState,useEffect}from'react';import\"./LandingPage.css\";import Modal from\"react-responsive-modal\";import{useHistory}from'react-router-dom';import Axios from'axios';import{Formik,Field,Form,ErrorMessage}from'formik';import logo from'../../images/logo.png';import loginVali from'./SignInValidation';import signUpVali from'./SignUpValidation';export default function LandingPage(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userEmail=_useState2[0],GetEmail=_useState2[1];// userEmail is the email from the user\nvar _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),SSstatus=_useState4[0],setSSstatus=_useState4[1];// SS = sign in sign up\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),signinStatus=_useState6[0],GetSignInStatus=_useState6[1];// sign in status\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),BEresponse=_useState8[0],GetBEresponse=_useState8[1];// BE = backend \nvar _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),loggedInUser=_useState10[0],getLoggedInUser=_useState10[1];//logged in user\nAxios.defaults.withCredentials=true;// set (Sign in) Status\nvar signInS=function signInS(){if(signinStatus===true){history.push(\"/home\");}setSSstatus(1);};// set Sign Up status\nvar signUpS=function signUpS(){if(signinStatus===true){history.push(\"/home\");}setSSstatus(2);};var closemodal=function closemodal(){if(signinStatus===true){history.push(\"/home\");}setSSstatus(0);};var homepage=function homepage(){history.push(\"/home\");};var loginfunc=function loginfunc(result){console.log(result.email);Axios.post(\"http://localhost:3001/signin\",{email:result.email,password:result.password}).then(function(response){if(response.data.message){GetBEresponse(response.data.message);}else{history.push(\"/home\");}});};var signupfunc=function signupfunc(result){console.log(\"test\");console.log(result.email);console.log(result.dob);console.log(result.password);Axios.post(\"http://localhost:3001/signup\",{email:result.email,dob:result.dob,password:result.password}).then(function(response){console.log(response);if(response.data.message){GetBEresponse(response.data.message);}});};useEffect(function(){Axios.get(\"http://localhost:3001/login\").then(function(response){console.log(response);});Axios.get(\"http://localhost:3001/getaccount\").then(function(result){if(result.data.loggedIn===true){GetSignInStatus(true);GetEmail(result.data.user[0].email);}else{GetSignInStatus(false);}});});// remove the , [] later on \nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"landingPage\",children:[signinStatus===false&&/*#__PURE__*/_jsxs(\"div\",{className:\"LandingDivRight\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:logo}),/*#__PURE__*/_jsx(\"h1\",{className:\"header1\",children:\"Spice up your confession\"}),/*#__PURE__*/_jsx(\"p\",{className:\"para1\",children:\"Join ConHut today\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signInBtn\",id:\"signIn\",onClick:signInS,children:\"Sign In\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signUpBtn\",id:\"signUp\",onClick:signUpS,children:\"Sign Up\"})]}),signinStatus===true&&/*#__PURE__*/_jsxs(\"div\",{className:\"changeme\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:logo}),/*#__PURE__*/_jsx(\"div\",{className:\"block1\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loggedInBtn\",id:\"alrsignin\",onClick:homepage,children:\"Login as\"})]}),SSstatus===1&&/*#__PURE__*/_jsx(\"div\",{className:\"modalDiv\",children:/*#__PURE__*/_jsx(Modal,{open:true,onClose:closemodal,classNames:{overlay:'customOverlay',modal:'customModal'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"LoginPage\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"loginHeader\",children:\"Login\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{email:\"\",password:\"\"},validationSchema:loginVali,onSubmit:loginfunc,children:/*#__PURE__*/_jsxs(Form,{style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(Field,{className:\"textfield\",name:\"email\",type:\"email\",placeholder:\"Email...\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"div\",className:\"invalid-feedback\",style:{color:\"red\",fontWeight:\"bold\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"block1\"}),/*#__PURE__*/_jsx(Field,{className:\"textfield\",name:\"password\",type:\"password\",placeholder:\"Password...\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"invalid-feedback\",style:{color:\"red\",fontWeight:\"bold\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"block2\"}),/*#__PURE__*/_jsx(\"a\",{className:\"forgetPass\",children:\"Forget password?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"button\",{className:\"loginbtn\",type:\"submit\",children:\"Submit\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"response\",children:BEresponse}),/*#__PURE__*/_jsxs(\"p\",{className:\"signintext\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{className:\"signUpText\",onClick:signUpS,children:\"Sign Up\"}),\".\"]})]})})]})})}),SSstatus===2&&/*#__PURE__*/_jsx(\"div\",{className:\"modalDiv\",children:/*#__PURE__*/_jsx(Modal,{open:true,onClose:closemodal,classNames:{overlay:'customOverlay',modal:'customModal'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"SignUpPage\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"signupHeader\",children:\"Sign up Page\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{email:\"\",dob:\"\",password:\"\"},validationSchema:signUpVali,onSubmit:signupfunc,children:/*#__PURE__*/_jsxs(Form,{style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(Field,{className:\"textfield\",name:\"email\",type:\"email\",placeholder:\"Email...\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"div\",className:\"invalid-feedback\",style:{color:\"red\",fontWeight:\"bold\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"block1\"}),/*#__PURE__*/_jsx(Field,{className:\"textfield\",name:\"dob\",type:\"date\",placeholder:\"Date of Birth\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"dob\",component:\"div\",className:\"invalid-feedback\",style:{color:\"red\",fontWeight:\"bold\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"block1\"}),/*#__PURE__*/_jsx(Field,{className:\"textfield\",name:\"password\",type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"invalid-feedback\",style:{color:\"red\",fontWeight:\"bold\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"loginbtn\",type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"response\",children:BEresponse})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"signintext\",children:[\"Have an account? \",/*#__PURE__*/_jsx(\"a\",{className:\"signUpText\",onClick:signInS,children:\"Sign In\"}),\".\"]})]})})]})})})]});}","map":{"version":3,"sources":["D:/ConHut/frontend/src/pages/LandingPage/LandingPage.js"],"names":["React","useState","useEffect","Modal","useHistory","Axios","Formik","Field","Form","ErrorMessage","logo","loginVali","signUpVali","LandingPage","history","userEmail","GetEmail","SSstatus","setSSstatus","signinStatus","GetSignInStatus","BEresponse","GetBEresponse","loggedInUser","getLoggedInUser","defaults","withCredentials","signInS","push","signUpS","closemodal","homepage","loginfunc","result","console","log","email","post","password","then","response","data","message","signupfunc","dob","get","loggedIn","user","overlay","modal","display","flexDirection","color","fontWeight"],"mappings":"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","sourcesContent":["import {React, useState, useEffect} from 'react';\r\nimport \"./LandingPage.css\";\r\nimport Modal from \"react-responsive-modal\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\r\nimport logo from '../../images/logo.png';\r\n\r\nimport loginVali from './SignInValidation';\r\nimport signUpVali from './SignUpValidation'\r\n\r\nexport default function LandingPage(){\r\n    const history = useHistory();\r\n\r\n    const [userEmail, GetEmail] = useState('') // userEmail is the email from the user\r\n    const [SSstatus, setSSstatus] = useState(0); // SS = sign in sign up\r\n    const [signinStatus, GetSignInStatus] = useState(false) // sign in status\r\n    const [BEresponse, GetBEresponse] = useState('') // BE = backend \r\n    const [loggedInUser, getLoggedInUser] = useState('')//logged in user\r\n\r\n    Axios.defaults.withCredentials = true;\r\n    \r\n    // set (Sign in) Status\r\n    const signInS = () => {\r\n        if (signinStatus === true) {\r\n            history.push(\"/home\")\r\n        }\r\n        setSSstatus(1)\r\n    }\r\n\r\n    // set Sign Up status\r\n    const signUpS = () => {\r\n        if (signinStatus === true) {\r\n            history.push(\"/home\")\r\n        }\r\n        setSSstatus(2)\r\n    }\r\n\r\n    const closemodal = () => {\r\n        if (signinStatus === true) {\r\n            history.push(\"/home\")\r\n        }\r\n        setSSstatus(0)\r\n    }\r\n\r\n    const homepage = () => {\r\n        history.push(\"/home\")\r\n    }\r\n    \r\n    const loginfunc = (result) => {\r\n        console.log(result.email)\r\n        Axios.post(\"http://localhost:3001/signin\", {\r\n            email: result.email,\r\n            password: result.password\r\n        }).then((response) => {\r\n            if (response.data.message) {\r\n                GetBEresponse(response.data.message)\r\n            } else {\r\n                history.push(\"/home\")\r\n            }\r\n        })\r\n    }\r\n\r\n    const signupfunc = (result) => {\r\n        console.log(\"test\")\r\n        console.log(result.email)\r\n        console.log(result.dob)\r\n        console.log(result.password)\r\n        Axios.post(\"http://localhost:3001/signup\", {\r\n            email: result.email,\r\n            dob : result.dob,\r\n            password: result.password,\r\n        }).then((response) => {\r\n            console.log(response)\r\n            if (response.data.message) {\r\n                GetBEresponse(response.data.message);\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        Axios.get(\"http://localhost:3001/login\").then((response) => {\r\n            console.log(response)\r\n        })\r\n        Axios.get(\"http://localhost:3001/getaccount\").then((result) => {\r\n            if (result.data.loggedIn === true) {\r\n                GetSignInStatus(true)\r\n                GetEmail(result.data.user[0].email) \r\n            } else {\r\n                GetSignInStatus(false)\r\n            }\r\n        });\r\n\r\n    }); // remove the , [] later on \r\n\r\n    return(\r\n            <div className=\"landingPage\">\r\n            {signinStatus === false && <div className=\"LandingDivRight\">\r\n                <img className=\"logo\" src={logo}/>\r\n                <h1 className=\"header1\">Spice up your confession</h1>\r\n                <p className=\"para1\">Join ConHut today</p>\r\n                <button className=\"signInBtn\" id=\"signIn\" onClick={signInS}>Sign In</button>\r\n                <button className=\"signUpBtn\" id=\"signUp\" onClick={signUpS}>Sign Up</button>\r\n            </div>}\r\n            {signinStatus === true && <div className=\"changeme\">\r\n                <img className=\"logo\" src={logo}/>\r\n                <div className=\"block1\"></div>\r\n\r\n                <button className=\"loggedInBtn\" id=\"alrsignin\" onClick={homepage}>Login as</button>\r\n            </div>}\r\n            {SSstatus === 1 && <div className=\"modalDiv\">\r\n            {/* LOGIN PAGE */}\r\n                <Modal open={true} onClose={closemodal} classNames={{\r\n                    overlay: 'customOverlay',\r\n                    modal: 'customModal',\r\n                }}>\r\n                <div className=\"LoginPage\">\r\n                    <h2 className=\"loginHeader\">Login</h2>\r\n                    <Formik\r\n                    initialValues={{\r\n                    email: \"\",\r\n                    password: \"\",\r\n                    }}\r\n                    validationSchema={loginVali}\r\n                    onSubmit={loginfunc}\r\n                    >\r\n                    <Form style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                    <Field className=\"textfield\" name=\"email\" type=\"email\" placeholder=\"Email...\" />\r\n                    <ErrorMessage\r\n                        name=\"email\"\r\n                        component=\"div\"\r\n                        className=\"invalid-feedback\"\r\n                        style={{ color: \"red\", fontWeight: \"bold\" }}\r\n                    />\r\n                    <div className=\"block1\"></div>\r\n                    <Field className=\"textfield\" name=\"password\" type=\"password\" placeholder=\"Password...\" />\r\n                    <ErrorMessage\r\n                        name=\"password\"\r\n                        component=\"div\"\r\n                        className=\"invalid-feedback\"\r\n                        style={{ color: \"red\", fontWeight: \"bold\" }}\r\n                    />\r\n                    <div className=\"block2\"></div>\r\n                    <a className=\"forgetPass\">Forget password?</a>\r\n\r\n                    <div className=\"row\">\r\n                        <button className=\"loginbtn\" type=\"submit\">Submit</button>\r\n                    </div>\r\n                    <p className=\"response\">{BEresponse}</p>\r\n                    <p className=\"signintext\">Don't have an account? <a className=\"signUpText\" onClick={signUpS}>Sign Up</a>.</p>\r\n                    </Form>\r\n                </Formik>\r\n                </div>\r\n                </Modal>\r\n            </div>}\r\n            {/* SIGN UP PAGE */}\r\n            {SSstatus === 2 && <div className=\"modalDiv\">\r\n                <Modal open={true} onClose={closemodal} classNames={{\r\n                    overlay: 'customOverlay',\r\n                    modal: 'customModal',\r\n                }}>\r\n                    <div className=\"SignUpPage\">\r\n                    <h2 className=\"signupHeader\">Sign up Page</h2>\r\n                    <Formik\r\n                        initialValues={{\r\n                        email: \"\",\r\n                        dob: \"\",\r\n                        password: \"\",\r\n                        }}\r\n                        validationSchema={signUpVali}\r\n                        onSubmit={signupfunc}\r\n                    >\r\n                    <Form style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                    <Field className=\"textfield\" name=\"email\" type=\"email\" placeholder=\"Email...\" />\r\n                    <ErrorMessage\r\n                        name=\"email\"\r\n                        component=\"div\"\r\n                        className=\"invalid-feedback\"\r\n                        style={{ color: \"red\", fontWeight: \"bold\" }}\r\n                    />\r\n                    <div className=\"block1\"></div>\r\n                    <Field className=\"textfield\" name=\"dob\" type=\"date\" placeholder=\"Date of Birth\" />\r\n                    <ErrorMessage\r\n                        name=\"dob\"\r\n                        component=\"div\"\r\n                        className=\"invalid-feedback\"\r\n                        style={{ color: \"red\", fontWeight: \"bold\" }}\r\n                    />\r\n                    <div className=\"block1\"></div>\r\n                    <Field className=\"textfield\" name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n                    <ErrorMessage\r\n                        name=\"password\"\r\n                        component=\"div\"\r\n                        className=\"invalid-feedback\"\r\n                        style={{ color: \"red\", fontWeight: \"bold\" }}\r\n                    />\r\n                    <div className=\"row\">\r\n                        <button className=\"loginbtn\" type=\"submit\">Submit</button>\r\n                        <p className=\"response\">{BEresponse}</p>\r\n                    </div>\r\n                    <p className=\"signintext\">Have an account? <a className=\"signUpText\" onClick={signInS}>Sign In</a>.</p>\r\n                    </Form>\r\n                </Formik>\r\n                </div>\r\n                </Modal>\r\n            </div>}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\n\r\n\r\n   "]},"metadata":{},"sourceType":"module"}