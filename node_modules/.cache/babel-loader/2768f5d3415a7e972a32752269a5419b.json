{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\ConHut\\\\frontend\\\\src\\\\hooks\\\\useUnsavedChangesWarning.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Prompt } from \"react-router-dom\";\n\nconst useUnsavedChangesWarning = (message = \"Are you sure want to discard changes?\") => {\n  _s();\n\n  const [isDirty, setDirty] = useState(false);\n  useEffect(() => {\n    //Detecting browser closing\n    window.onbeforeunload = isDirty && (() => message);\n\n    return () => {\n      window.onbeforeunload = null;\n    };\n  }, [isDirty]);\n\n  const routerPrompt = /*#__PURE__*/_jsxDEV(Prompt, {\n    when: isDirty,\n    message: message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 26\n  }, this);\n\n  return [routerPrompt, () => setDirty(true), () => setDirty(false)];\n};\n\n_s(useUnsavedChangesWarning, \"8k3EAsomhkiUCTbefmBAO801WSA=\");\n\nexport default useUnsavedChangesWarning;","map":{"version":3,"sources":["D:/ConHut/frontend/src/hooks/useUnsavedChangesWarning.js"],"names":["React","useState","useEffect","Prompt","useUnsavedChangesWarning","message","isDirty","setDirty","window","onbeforeunload","routerPrompt"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,kBAAvB;;AAEA,MAAMC,wBAAwB,GAAG,CAC7BC,OAAO,GAAG,uCADmB,KAE5B;AAAA;;AACD,QAAM,CAACC,OAAD,EAAUC,QAAV,IAAsBN,QAAQ,CAAC,KAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ;AACAM,IAAAA,MAAM,CAACC,cAAP,GAAwBH,OAAO,KAAK,MAAMD,OAAX,CAA/B;;AAEA,WAAO,MAAM;AACTG,MAAAA,MAAM,CAACC,cAAP,GAAwB,IAAxB;AACH,KAFD;AAGH,GAPQ,EAON,CAACH,OAAD,CAPM,CAAT;;AASA,QAAMI,YAAY,gBAAG,QAAC,MAAD;AAAQ,IAAA,IAAI,EAAEJ,OAAd;AAAuB,IAAA,OAAO,EAAED;AAAhC;AAAA;AAAA;AAAA;AAAA,UAArB;;AAEA,SAAO,CAACK,YAAD,EAAe,MAAMH,QAAQ,CAAC,IAAD,CAA7B,EAAqC,MAAMA,QAAQ,CAAC,KAAD,CAAnD,CAAP;AACH,CAjBD;;GAAMH,wB;;AAmBN,eAAeA,wBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Prompt } from \"react-router-dom\";\r\n\r\nconst useUnsavedChangesWarning = (\r\n    message = \"Are you sure want to discard changes?\"\r\n) => {\r\n    const [isDirty, setDirty] = useState(false);\r\n\r\n    useEffect(() => {\r\n        //Detecting browser closing\r\n        window.onbeforeunload = isDirty && (() => message);\r\n\r\n        return () => {\r\n            window.onbeforeunload = null;\r\n        };\r\n    }, [isDirty]);\r\n\r\n    const routerPrompt = <Prompt when={isDirty} message={message} />;\r\n\r\n    return [routerPrompt, () => setDirty(true), () => setDirty(false)];\r\n};\r\n\r\nexport default useUnsavedChangesWarning;"]},"metadata":{},"sourceType":"module"}